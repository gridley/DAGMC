

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Tallies &#8212; DAGMC</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/default.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Code-specific steps for FluDAG" href="fludag.html" />
    <link rel="prev" title="Code-specific steps for DAG-MCNP5/6" href="dag-mcnp.html" /> 
  </head><body> 
<div id="page-div" class="page">
<div id="header">
    <a id="uwhome" href="http://www.wisc.edu"><img src="../../_static/images/wordmark.gif" alt="University of Wisconsin–Madison" width="260" height="11" /></a> 
    <a id="crest" href="http://www.wisc.edu"><img src="../../_static/images/crest.png" alt="" width="70" height="106" /></a>
    <h1 id="siteTitle"><a href="../../index.html"><img src="../../_static/images/logo.png" alt="" height="50x" /><span>DAGMC</span></a></h1>
    <div id="tagline"><span>Direct Accelerated Geometry Monte Carlo Toolkit</span></div>
    <ul id="globalnav">
      <li id="uwsearch"><a href="http://www.wisc.edu/search/">UW Search</a></li>
      <li><a href="http://cnerg.github.com">CNERG</a></li>
      <li><a href="http://my.wisc.edu">My UW</a></li>
      <li><a href="http://map.wisc.edu">Map</a></li>
      <li id="last_tool"><a href="http://www.today.wisc.edu">Calendar</a></li>
    </ul>
    <form role="search" action="../../search.html" method="get" id="cse-search-box">
      <div>
      <label class="screen-reader-text" for="q">Search for:</label>
      <input type="text" id="q" name="q" value="Enter keywords here...." />
      <input type="submit" id="sa" value="Search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
      </div>
    </form>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>

    <div id="nav" class="main-menu-container">
      <ul id="menu-main" class="sf-menu">
        <li class="menu-item"><a href="http://svalinn.github.io">Svalinn</a></li>
        <li class="menu-item"><a href="../../index.html">DAGMC</a></li>
        <li class="menu-item" style="margin-right: 10px">
          <a href="dag-mcnp.html" title="Code-specific steps for DAG-MCNP5/6"
             accesskey="P">previous</a>
          </li>
        <li class="menu-item" >
          <a href="fludag.html" title="Code-specific steps for FluDAG"
             accesskey="N">next</a>
          </li>
        <li class="menu-item" >
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a>
          </li>
          <li class="menu-item"><a href="../index.html" >User’s guide</a></li>
          <li class="menu-item"><a href="index.html" >Monte Carlo code-specific steps</a></li>
          <li class="menu-item"><a href="dag-mcnp.html" accesskey="U">Code-specific steps for DAG-MCNP5/6</a></li> 
      </ul>
    </div>
  <div id="c_container"> 
<div id="sidebar">
 <div id="sidebar_section"><ul>
<li><a class="reference internal" href="#">Tallies</a></li>
</ul>
 </div>
</div> 
    <div id="content" class="inline-block">
          <div class="post">
            
  <section id="tallies">
<h1>Tallies<a class="headerlink" href="#tallies" title="Permalink to this heading">¶</a></h1>
<p>You can also specify tallies in the geometry, although it is not required.
Tallies can be added by creating a group of volumes or surfaces and encoding the
metadata in the names of those groups. The group names should follow this
format:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tally_[Cubit_tally_ID].[tally_type_keyword].[particles]
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">[Cubit_tally_ID]</span></code> field is an integer from 0 to 99.  Different tally
types may have the same Cubit ID and will still be consistent. The tally number
in MCNP will be 10 times the Cubit ID plus the tally type index (e.g. 4 for cell
flux tallies).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">[tally_type_keyword]</span></code> should be one of the following:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 64%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Tally Type</p></td>
<td><p>tally type keyword</p></td>
</tr>
<tr class="row-even"><td><p>f1</p></td>
<td><p>surf.current</p></td>
</tr>
<tr class="row-odd"><td><p>f2</p></td>
<td><p>surf.flux</p></td>
</tr>
<tr class="row-even"><td><p>f4</p></td>
<td><p>cell.flux</p></td>
</tr>
<tr class="row-odd"><td><p>f6</p></td>
<td><p>cell.heating</p></td>
</tr>
<tr class="row-even"><td><p>f7</p></td>
<td><p>cell.fission</p></td>
</tr>
<tr class="row-odd"><td><p>f8</p></td>
<td><p>pulse.height</p></td>
</tr>
<tr class="row-even"><td><p>+f8</p></td>
<td><p>qpulse.height</p></td>
</tr>
</tbody>
</table>
<p>It is possible to obtain tally results multiplied by particle energy (e.g. a
*f2 tally in MCNP) by placing an <code class="docutils literal notranslate"><span class="pre">e</span></code> before the tally type. For example,
to make a <code class="docutils literal notranslate"><span class="pre">*f2</span></code> tally, the keyword should be <code class="docutils literal notranslate"><span class="pre">esurf.flux</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">[particles]</span></code> tag is a string stating which particles will be
tallied.  To tally both photons and neutrons, set the tag to “np”.
The default is neutrons only.  Should this be tag be omitted, only
neutrons will be tallied.</p>
<p>Here are some example Cubit commands to create tallies:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CUBIT&gt; group &quot;tally_0.surf.current&quot; add surf 1 to 4
CUBIT&gt; group &quot;tally_0.cell.flux.p&quot; add vol 7
CUBIT&gt; group &quot;tally_1.ecell.heating.np&quot; add vol 2 6
CUBIT&gt; group &quot;tally_6.cell.heating.n&quot; add vol 2 6
CUBIT&gt; group &quot;tally_7.cell.flux.p&quot; add vol 1 to 3
CUBIT&gt; group &quot;tally_12.pulse.height.p&quot; add vol 10 to 14
CUBIT&gt; group &quot;tally_14.qpulse.height.p&quot; add vol 10 to 14
</pre></div>
</div>
<p>The above are equivalent to following MCNP definitions:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>f1:n 1 2 3 4 T
f4:p 7 T
*f16:n,p 2 6 T
f66:n 2 6 T
f74:p 1 2 3 T
f128:p 10 11 12 13 14 T
+f148:p 10 11 12 13 14 T
</pre></div>
</div>
<p>Note that a total tally bin is always added.</p>
</section>


          </div>
      </div>

    </div>
</div>
    <div id="footer">
      <p>
        &copy; Copyright 2012-2020, The UW CNERG Team.
      </p>
      <p>
      Last updated on Aug 02, 2022.
      </p>
      <p>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 5.0.1.
      </p>
    </div>
  </body>
</html>